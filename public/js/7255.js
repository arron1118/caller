"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7255,8965,7584],{5467:(e,t,a)=>{a.d(t,{Z:()=>r});var o=a(3645),n=a.n(o)()((function(e){return e[1]}));n.push([e.id,".avatar-uploader .avatar[data-v-08b9d977]{display:block;height:178px;width:178px}",""]);const r=n},8837:(e,t,a)=>{a.d(t,{Z:()=>r});var o=a(3645),n=a.n(o)()((function(e){return e[1]}));n.push([e.id,".avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;overflow:hidden;position:relative;transition:var(--el-transition-duration-fast)}.avatar-uploader .el-upload:hover{border-color:var(--el-color-primary)}.el-icon.avatar-uploader-icon{color:#8c939d;font-size:28px;height:178px;text-align:center;width:178px}",""]);const r=n},3744:(e,t)=>{t.Z=(e,t)=>{const a=e.__vccOpts||e;for(const[e,o]of t)a[e]=o;return a}},7255:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var o=a(4865),n={class:"mt-4"},r={class:"block"},l=(0,o.createElementVNode)("div",{class:"text-xs text-gray-400"},"提示：1个小号为1个座席，默认 1",-1),u={class:"block"},i=(0,o.createElementVNode)("div",{class:"text-xs text-gray-400"},"提示：0 为无限制开通拨号用户",-1),c={class:"block"},d=(0,o.createElementVNode)("div",{class:"text-xs text-gray-400"},"提示：用于计算话费，默认 0.15/分钟",-1),m={class:"block"},s=(0,o.createElementVNode)("div",{class:"text-xs text-gray-400"},"提示：超过测试时间将被淘汰，空为无限制。",-1),p={class:"block"},f=(0,o.createElementVNode)("div",{class:"text-xs text-gray-400"},"提示：禁止后，该账号下的所有拨号账号将无法正常使用。",-1),h={class:"mt-4"},v={class:"block"},b={class:"flex flex-row justify-center mt-8"},V=(0,o.createTextVNode)("取消"),N=(0,o.createTextVNode)("开通");var w=a(7757),x=a.n(w),C=a(7584),g=a(8965);function k(e,t,a,o,n,r,l){try{var u=e[r](l),i=u.value}catch(e){return void a(e)}u.done?t(i):Promise.resolve(i).then(o,n)}function y(e){return function(){var t=this,a=arguments;return new Promise((function(o,n){var r=e.apply(t,a);function l(e){k(r,o,n,l,u,"next",e)}function u(e){k(r,o,n,l,u,"throw",e)}l(void 0)}))}}const F={name:"Add",components:{BasicTabs:C.default,ImageUpload:g.default},setup:function(e,t){var a=(0,o.ref)("first"),n=(0,o.ref)([{label:"账户信息",name:"first"},{label:"客户信息",name:"second"}]),r=(0,o.ref)("left"),l=(0,o.ref)(60),u=(0,o.ref)(null),i=(0,o.ref)(e.loading),c=(0,o.reactive)({number:"",password:"",sit:1,limitNumber:0,minNumber:"",rate:.15,name:"",testNumber:!0,state:!0,dataTime:"",sale:"",company:"",contacts:"",ways:"",contractTime:"",contractImage:""}),d=function(){var e=y(x().mark((function e(){var a,n,r,l,d,m,s,p,f,h,v,b,V,N,w,C,g,k;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.value=!0,a=(0,o.unref)(u)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,a.validate();case 7:n=c.number,r=c.password,l=c.sit,d=c.limitNumber,m=c.minNumber,s=c.rate,p=c.name,f=c.testNumber,h=c.state,v=c.dataTime,b=c.sale,V=c.company,N=c.contacts,w=c.ways,C=c.contractTime,g=c.contractImage,k={number:n,password:r,sit:l,limitNumber:d,minNumber:m,rate:s,name:p,testNumber:f,state:h,dataTime:v,sale:b,company:V,contacts:N,ways:w,contractTime:C,contractImage:g},console.log("开通参数",k,i.value),t.emit("clickAdd",k,i.value),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=y(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.emit("clickCancelAdd",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{getTab:function(e){a.value=e},activeName:a,tabsList:n,changeSwitch:function(e){!1===e&&(c.dataTime="")},width:l,handleChangeSit:function(e){c.sit=e},handleChangeLimitNumber:function(e){c.limitNumber=e},handleChangeRate:function(e){c.rate=e},addFormRef:u,ruleForm2:c,loading:i,submitAdd:d,cancelAdd:m,handleChangeDateTime:function(e){c.dataTime=e},handleChangeContractTime:function(e){c.contractTime=e},labelPosition:r}},props:["loading"]};const _=(0,a(3744).Z)(F,[["render",function(e,t,a,w,x,C){var g=(0,o.resolveComponent)("el-input"),k=(0,o.resolveComponent)("el-form-item"),y=(0,o.resolveComponent)("el-option"),F=(0,o.resolveComponent)("el-select"),_=(0,o.resolveComponent)("el-input-number"),T=(0,o.resolveComponent)("el-switch"),E=(0,o.resolveComponent)("el-date-picker"),U=(0,o.resolveComponent)("el-form"),B=(0,o.resolveComponent)("image-upload"),Z=(0,o.resolveComponent)("el-button"),M=(0,o.resolveComponent)("basic-tabs");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(M,{tabsList:w.tabsList,activeName:w.activeName,onGetTabs:w.getTab},{default:(0,o.withCtx)((function(){return[(0,o.withDirectives)((0,o.createElementVNode)("div",n,[(0,o.createVNode)(U,{class:"px-6",ref:"addFormRef",model:w.ruleForm2,"label-position":w.labelPosition},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(k,{label:"账号","label-width":"140px",prop:"number"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{modelValue:w.ruleForm2.number,"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.ruleForm2.number=e}),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"密码","label-width":"140px",prop:"password"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{modelValue:w.ruleForm2.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w.ruleForm2.password=e}),modelModifiers:{trim:!0},type:"password",autocomplete:"off"},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"公司名称","label-width":"140px",prop:"name"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{modelValue:w.ruleForm2.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return w.ruleForm2.name=e}),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"跟进人","label-width":"140px",prop:"name"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{modelValue:w.ruleForm2.sale,"onUpdate:modelValue":t[3]||(t[3]=function(e){return w.ruleForm2.sale=e}),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"小号","label-width":"140px",prop:"minNumber"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(F,{modelValue:w.ruleForm2.minNumber,"onUpdate:modelValue":t[4]||(t[4]=function(e){return w.ruleForm2.minNumber=e}),placeholder:"请选择名下小号"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(y,{label:"Zone No.1",value:"shanghai"}),(0,o.createVNode)(y,{label:"Zone No.2",value:"beijing"})]})),_:1},8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"坐席","label-width":"140px",prop:"sit"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(_,{modelValue:w.ruleForm2.sit,"onUpdate:modelValue":t[5]||(t[5]=function(e){return w.ruleForm2.sit=e}),min:1,"controls-position":"right",onChange:w.handleChangeSit},null,8,["modelValue","onChange"])]),l])]})),_:1}),(0,o.createVNode)(k,{label:"限制用户数","label-width":"140px",prop:"limitNumber"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",u,[(0,o.createVNode)(_,{modelValue:w.ruleForm2.limitNumber,"onUpdate:modelValue":t[6]||(t[6]=function(e){return w.ruleForm2.limitNumber=e}),min:0,"controls-position":"right",onChange:w.handleChangeLimitNumber},null,8,["modelValue","onChange"])]),i])]})),_:1}),(0,o.createVNode)(k,{label:"费率（元）","label-width":"140px",prop:"rate"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",c,[(0,o.createVNode)(_,{modelValue:w.ruleForm2.rate,"onUpdate:modelValue":t[7]||(t[7]=function(e){return w.ruleForm2.rate=e}),min:.15,"controls-position":"right",onChange:w.handleChangeRate},null,8,["modelValue","min","onChange"])]),d])]})),_:1}),(0,o.createVNode)(k,{label:"测试账号","label-width":"140px",prop:"testNumber"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(T,{modelValue:w.ruleForm2.testNumber,"onUpdate:modelValue":t[8]||(t[8]=function(e){return w.ruleForm2.testNumber=e}),"inline-prompt":"","active-text":"是","inactive-text":"否",width:w.width,onChange:w.changeSwitch},null,8,["modelValue","width","onChange"])]})),_:1}),(0,o.withDirectives)((0,o.createVNode)(k,{label:"结束时间","label-width":"140px",prop:"state"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",m,[(0,o.createVNode)(E,{modelValue:w.ruleForm2.dataTime,"onUpdate:modelValue":t[9]||(t[9]=function(e){return w.ruleForm2.dataTime=e}),type:"datetime",placeholder:"",onChange:w.handleChangeDateTime,"value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue","onChange"])]),s])]})),_:1},512),[[o.vShow,w.ruleForm2.testNumber]]),(0,o.createVNode)(k,{label:"状态","label-width":"140px",prop:"state"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",p,[(0,o.createVNode)(T,{modelValue:w.ruleForm2.state,"onUpdate:modelValue":t[10]||(t[10]=function(e){return w.ruleForm2.state=e}),"inline-prompt":"","active-text":"启用","inactive-text":"禁止",width:w.width},null,8,["modelValue","width"])]),f])]})),_:1})]})),_:1},8,["model","label-position"])],512),[[o.vShow,"first"===w.activeName]]),(0,o.withDirectives)((0,o.createElementVNode)("div",h,[(0,o.createVNode)(U,{class:"px-6",ref:"addFormRef",model:w.ruleForm2,"label-position":w.labelPosition},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(k,{label:"公司名称","label-width":"140px",prop:"company"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{modelValue:w.ruleForm2.company,"onUpdate:modelValue":t[11]||(t[11]=function(e){return w.ruleForm2.company=e}),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"联系人","label-width":"140px",prop:"contacts"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{modelValue:w.ruleForm2.contacts,"onUpdate:modelValue":t[12]||(t[12]=function(e){return w.ruleForm2.contacts=e}),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"联系方式","label-width":"140px",prop:"ways"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(g,{modelValue:w.ruleForm2.ways,"onUpdate:modelValue":t[13]||(t[13]=function(e){return w.ruleForm2.ways=e}),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),(0,o.createVNode)(k,{label:"合同时间","label-width":"140px",prop:"contractTime"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",v,[(0,o.createVNode)(E,{modelValue:w.ruleForm2.contractTime,"onUpdate:modelValue":t[14]||(t[14]=function(e){return w.ruleForm2.contractTime=e}),type:"datetimerange",placeholder:"",onChange:w.handleChangeContractTime,"value-format":"YYYY-MM-DD hh:mm:ss"},null,8,["modelValue","onChange"])])])]})),_:1}),(0,o.createVNode)(k,{label:"合同","label-width":"140px",prop:"contractImage"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(B)]})),_:1})]})),_:1},8,["model","label-position"])],512),[[o.vShow,"second"===w.activeName]]),(0,o.createElementVNode)("div",b,[(0,o.createVNode)(Z,{onClick:t[15]||(t[15]=function(e){return w.cancelAdd()})},{default:(0,o.withCtx)((function(){return[V]})),_:1}),(0,o.createVNode)(Z,{type:"primary",loading:a.loading,onClick:t[16]||(t[16]=function(e){return w.submitAdd()})},{default:(0,o.withCtx)((function(){return[N]})),_:1},8,["loading"])])]})),_:1},8,["tabsList","activeName","onGetTabs"])])}]])},8965:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var o=a(4865),n=["src"];var r=a(7757),l=a.n(r),u=a(5244);function i(e,t,a,o,n,r,l){try{var u=e[r](l),i=u.value}catch(e){return void a(e)}u.done?t(i):Promise.resolve(i).then(o,n)}function c(e){return function(){var t=this,a=arguments;return new Promise((function(o,n){var r=e.apply(t,a);function l(e){i(r,o,n,l,u,"next",e)}function u(e){i(r,o,n,l,u,"throw",e)}l(void 0)}))}}const d={name:"ImageUpload",components:{Plus:a(3411).Z},setup:function(e,t){var a=(0,o.ref)(""),n=function(){var e=c(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("lpppp",t.type),"image/png"===t.type||"image/jpeg"===t.type){e.next=6;break}return u.z8.error("上传格式为图片！"),e.abrupt("return",!1);case 6:if(!(t.size/1024/1024>2)){e.next=9;break}return u.z8.error("上传图片不能超过2MB！"),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=c(l().mark((function e(t,a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),console.log(a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return{imageUrl:a,beforeAvatarUpload:n,handleAvatarSuccess:r}},props:[]};var m=a(3379),s=a.n(m),p=a(5467),f={insert:"head",singleton:!1};s()(p.Z,f);p.Z.locals;var h=a(8837),v={insert:"head",singleton:!1};s()(h.Z,v);h.Z.locals;const b=(0,a(3744).Z)(d,[["render",function(e,t,a,r,l,u){var i=(0,o.resolveComponent)("Plus"),c=(0,o.resolveComponent)("el-icon"),d=(0,o.resolveComponent)("el-upload");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(d,{class:"avatar-uploader",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":r.handleAvatarSuccess,"before-upload":r.beforeAvatarUpload},{default:(0,o.withCtx)((function(){return[r.imageUrl?((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:0,src:r.imageUrl,class:"avatar"},null,8,n)):((0,o.openBlock)(),(0,o.createBlock)(c,{key:1,class:"avatar-uploader-icon"},{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(i)]})),_:1}))]})),_:1},8,["on-success","before-upload"])])}],["__scopeId","data-v-08b9d977"]])},7584:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var o=a(4865);const n={name:"BasicTabs",setup:function(e,t){return{handleClick:function(e,a){t.emit("getTabs",e.props.name)}}},props:["tabsList","activeName"],watch:{},methods:{}};const r=(0,a(3744).Z)(n,[["render",function(e,t,a,n,r,l){var u=(0,o.resolveComponent)("el-tab-pane"),i=(0,o.resolveComponent)("el-tabs");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createVNode)(i,{modelValue:a.activeName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.activeName=e}),type:"card",class:"demo-tabs",onTabClick:n.handleClick},{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.tabsList,(function(t){return(0,o.openBlock)(),(0,o.createBlock)(u,{key:t,label:t.label,name:t.name},{default:(0,o.withCtx)((function(){return[(0,o.renderSlot)(e.$slots,"default")]})),_:2},1032,["label","name"])})),128))]})),_:3},8,["modelValue","onTabClick"])])}]])}}]);